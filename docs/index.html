<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>Home - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <input type="text" id="nav-search" placeholder="Search" />
    
    <h2><a href="index.html">Home</a></h2><h2><a href="./game" target="_blank" >Play the game</a></h2><h2><a href="https://github.com/Adalab/battleship" target="_blank" >GitHub repository</a></h2><h3>Modules</h3><ul><li><a href="module-battleship.html">battleship</a><ul class='methods'><li data-type='method'><a href="module-battleship.html#~init">init</a></li><li data-type='method'><a href="module-battleship.html#~start">start</a></li></ul></li><li><a href="module-bs-board.html">bs-board</a><ul class='methods'><li data-type='method'><a href="module-bs-board.html#~getDimensionsFromInputs">getDimensionsFromInputs</a></li><li data-type='method'><a href="module-bs-board.html#~getCellClassName">getCellClassName</a></li><li data-type='method'><a href="module-bs-board.html#~logBoard">logBoard</a></li><li data-type='method'><a href="module-bs-board.html#~initBoard">initBoard</a></li><li data-type='method'><a href="module-bs-board.html#~renderBoard">renderBoard</a></li><li data-type='method'><a href="module-bs-board.html#~getBoardDataForPlayer">getBoardDataForPlayer</a></li><li data-type='method'><a href="module-bs-board.html#~getBoardWidth">getBoardWidth</a></li><li data-type='method'><a href="module-bs-board.html#~getBoardHeight">getBoardHeight</a></li></ul></li><li><a href="module-bs-helpers.html">bs-helpers</a><ul class='methods'><li data-type='method'><a href="module-bs-helpers.html#~log">log</a></li><li data-type='method'><a href="module-bs-helpers.html#~logGroup">logGroup</a></li><li data-type='method'><a href="module-bs-helpers.html#~logGroupEnd">logGroupEnd</a></li><li data-type='method'><a href="module-bs-helpers.html#~listenEvent">listenEvent</a></li><li data-type='method'><a href="module-bs-helpers.html#~getElement">getElement</a></li><li data-type='method'><a href="module-bs-helpers.html#~getInputValue">getInputValue</a></li><li data-type='method'><a href="module-bs-helpers.html#~setElementHtml">setElementHtml</a></li></ul></li><li><a href="module-bs-menu.html">bs-menu</a><ul class='methods'><li data-type='method'><a href="module-bs-menu.html#~start">start</a></li><li data-type='method'><a href="module-bs-menu.html#~initMenu">initMenu</a></li></ul></li><li><a href="module-bs-players.html">bs-players</a><ul class='methods'><li data-type='method'><a href="module-bs-players.html#~shufflePlayers">shufflePlayers</a></li><li data-type='method'><a href="module-bs-players.html#~setPlayersId">setPlayersId</a></li><li data-type='method'><a href="module-bs-players.html#~logPlayers">logPlayers</a></li><li data-type='method'><a href="module-bs-players.html#~addPlayer">addPlayer</a></li><li data-type='method'><a href="module-bs-players.html#~initPlayers">initPlayers</a></li><li data-type='method'><a href="module-bs-players.html#~getPlayerIds">getPlayerIds</a></li><li data-type='method'><a href="module-bs-players.html#~getPlayerName">getPlayerName</a></li><li data-type='method'><a href="module-bs-players.html#~getNextPlayer">getNextPlayer</a></li></ul></li><li><a href="module-bs-ships.html">bs-ships</a><ul class='methods'><li data-type='method'><a href="module-bs-ships.html#~getLengthFromInput">getLengthFromInput</a></li><li data-type='method'><a href="module-bs-ships.html#~createShips">createShips</a></li><li data-type='method'><a href="module-bs-ships.html#~createShipsPositions">createShipsPositions</a></li><li data-type='method'><a href="module-bs-ships.html#~logShips">logShips</a></li><li data-type='method'><a href="module-bs-ships.html#~initShips">initShips</a></li><li data-type='method'><a href="module-bs-ships.html#~getShipsDataForPlayer">getShipsDataForPlayer</a></li><li data-type='method'><a href="module-bs-ships.html#~isGameOver">isGameOver</a></li><li data-type='method'><a href="module-bs-ships.html#~isThereShipAt">isThereShipAt</a></li><li data-type='method'><a href="module-bs-ships.html#~getShipIdAt">getShipIdAt</a></li></ul></li><li><a href="module-bs-shots.html">bs-shots</a><ul class='methods'><li data-type='method'><a href="module-bs-shots.html#~getNextShot">getNextShot</a></li><li data-type='method'><a href="module-bs-shots.html#~getPlayerShootData">getPlayerShootData</a></li><li data-type='method'><a href="module-bs-shots.html#~getShotsDataForPlayer">getShotsDataForPlayer</a></li><li data-type='method'><a href="module-bs-shots.html#~logShot">logShot</a></li><li data-type='method'><a href="module-bs-shots.html#~logShots">logShots</a></li><li data-type='method'><a href="module-bs-shots.html#~logGameOver">logGameOver</a></li><li data-type='method'><a href="module-bs-shots.html#~fireShot">fireShot</a></li><li data-type='method'><a href="module-bs-shots.html#~goPreviousShot">goPreviousShot</a></li><li data-type='method'><a href="module-bs-shots.html#~isThereShotAt">isThereShotAt</a></li><li data-type='method'><a href="module-bs-shots.html#~isThereDamageAt">isThereDamageAt</a></li></ul></li></ul>
</nav>

<div id="main">
    

    



    


    <section class="package">
        <h3> </h3>		
    </section>









    



    <section class="readme">
        <article><h1>Battleship</h1>
<h2>Technical documentation</h2>
<p>Here is the technical documentation related to the JavaScript part of the project.</p>
<h2>Directories</h2>
<p>The project is divided into three folders:</p>
<ul>
<li><code>_src/js/battleship/:</code> folder where the game engine is, in these files we control the board, the turns, the ships, the shots, we check if a player has won the game...</li>
<li><code>_src/js/players/:</code> folder where are the artificial intelligences programmed by the players. Right now there are two players: <strong>WonderWoman</strong> and <strong>Maricarmen</strong>.</li>
<li><code>_src/js/libs/:</code> folder where we store the external libraries.</li>
</ul>
<h2>Game flow</h2>
<p>When starting the web page, all JS files are loaded and:</p>
<ol>
<li>The game engine loads the players.</li>
<li>Next, wait for the <strong>Start</strong> button to be clicked. So:
<ol>
<li>The game engine generates the board.</li>
<li>The game engine randomly generates a boat for each player.</li>
<li>Each time the <strong>Next</strong> button is clicked, a new turn is started consisting of:
<ol>
<li>The engine executes the <code>shoot</code> method of the player who is currently playing, which is in <code>_src / js/players/player-*.js</code>. This method receives as an only parameter an object with all the information that is needed to be able to shoot, such as the size of the board, the coordinates of the shots it has taken in previous turns, the coordinates of its ship...</li>
<li><code>shoot</code> method returns the coordinates of the board where the player is shooting.</li>
<li>The engine uses these coordinates to know if it has fired in water or hit a ship.</li>
<li>The engine checks if the player has won.</li>
</ol>
</li>
</ol>
</li>
</ol>
<blockquote>
<p><strong>Note:</strong> The <strong>Previous</strong> button undoes a player's last turn. It is designed to facilitate the programming and debugging of the game.</p>
</blockquote>
<h2>Shoot method</h2>
<p>Each time it is the turn of a player, the game engine executes its shoot function. This function receives everything you need. The public functions of the engine that are in the global variable <code>bs</code> must NOT be accessed from the players' files.</p>
<h2>Modules</h2>
<p>We have divided the game engine into several modules so that the code is tidier and cleaner. These modules are in <code>_src/js/battleship/</code>.</p>
<h3>Public methods</h3>
<p>Public or shared functions between different modules are added to the global object:</p>
<pre class="prettyprint source lang-javascript"><code>const bs = {}; // _src/js/battleship/battleship.js file
</code></pre>
<h3>Private methods and data</h3>
<p>We want to have private functions and variables, not shared between the different modules. Therefore, all the variables and functions of a module are within a general function.</p>
<p>Thanks to the scope of functions in JavaScript, all code written within a function is not accessible from outside the function.</p>
<p>This general function is auto executed when the application is started. Therefore, the function starts with <code>(function () {</code> and ends with a parenthesis <code>()</code>.</p>
<pre class="prettyprint source lang-javascript"><code>(function() {
  // private code
})();
</code></pre>
<p>To see an example see the file <code>\_src/js/battleship/bs-board.js</code>.</p>
<h2>Event oriented architecture</h2>
<p>This game has events or actions architecture. This means that the game stores all the events that have happened during the game. These events are all shots fired in each turn.</p>
<p>In this way we can travel back in time when the <strong>Previous</strong> button is pressed. These events or shots are stored in:</p>
<pre class="prettyprint source lang-javascript"><code>const shots = []; // _src/js/battleship/bs-shots.js file
</code></pre>
<blockquote>
<p><strong>Note:</strong> in this section we talk about events, but it has nothing to do with JavaScript events.</p>
</blockquote></article>
    </section>






    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.3</a> on Sun Aug 18 2019 21:27:25 GMT+0200 (GMT+02:00) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>

<script src="scripts/search.js" defer></script>



</body>
</html>